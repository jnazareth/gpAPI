/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

// Apply the java plugin to add support for Java
apply plugin: 'java'

// Apply the application plugin to add support for building an application
apply plugin: 'application'

// Define the main class for the application
mainClassName = 'gpSheets2'

sourceCompatibility = 1.8
targetCompatibility = 1.8

// basepath for package
def artifactBaseName = 'gpAPI'

version = '1.0.0'
def author = 'John Nazareth'
def description = 'drive/sheets version of GP package'

repositories {
	mavenCentral()
}

dependencies {
	compile 'com.google.api-client:google-api-client:1.23.0'
	compile 'com.google.oauth-client:google-oauth-client-jetty:1.23.0'
	compile 'com.google.apis:google-api-services-sheets:v4-rev515-1.23.0'
	compile 'com.google.apis:google-api-services-drive:v3-rev108-1.23.0'
}

//create a single Jar with all dependencies
task fatJar(type: Jar) {
	manifest {
		attributes(	"Implementation-Title": "Gradle",
					"Implementation-Version": version,
					"Created-By": author,
					"Description": description,
					"Main-Class": mainClassName)
	}
	baseName = artifactBaseName
	from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
	with jar
}

task sourcesJar(type: Jar, dependsOn: classes) {
	baseName = artifactBaseName
	classifier = 'sources'
	from sourceSets.main.allSource
}